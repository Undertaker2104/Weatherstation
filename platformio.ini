[env:lolin32]
platform = espressif32
board = lolin32
framework = arduino
upload_port = COM5


; Serial & upload
monitor_speed = 115200
upload_speed  = 115200
; upload_port = COM5        ; <- optional: set only if COM5 is always correct

; Handy serial filters (optional but useful)
monitor_filters =
  default    ; colorize + line endings
  time       ; prepend timestamps
  esp32_exception_decoder

lib_deps =
  bodmer/TFT_eSPI @ ^2.5.43
  adafruit/Adafruit BME280 Library @ ^2.2.4
  adafruit/Adafruit Unified Sensor @ ^1.1.14
  madhephaestus/ESP32Servo @ ^1.1.2
  knolleary/PubSubClient @ ^2.8
  bblanchon/ArduinoJson @ ^7


; === TFT_eSPI setup via build flags (no edits in the library) ===
build_flags =
  -DUSER_SETUP_LOADED
  -DILI9341_DRIVER
  -DTFT_WIDTH=240
  -DTFT_HEIGHT=320
  ; SPI pins (your wiring)
  -DTFT_MOSI=23
  -DTFT_MISO=19
  -DTFT_SCLK=18
  -DTFT_CS=25          ; moved off GPIO5 to avoid boot issues
  -DTFT_DC=27
  -DTFT_RST=33         ; if RES is tied to 3V3, use: -DTFT_RST=-1
  -DSPI_FREQUENCY=27000000
  ; fonts used in your code
  -DLOAD_GLCD=1        ; enables setTextFont(1)
  -DLOAD_FONT2=1       ; enables setTextFont(2)
  ; optional: touch CS (not used by your code)
  -DTOUCH_CS=14
